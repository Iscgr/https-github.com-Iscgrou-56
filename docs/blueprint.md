# **App Name**: MarFaNet

## Core Features:

- Automated Invoice Generation from Usage Data: قابلیت بارگذاری فایل‌های JSON حاوی داده‌های مصرف نمایندگان. استفاده از یک Genkit Flow برای اعتبارسنجی ساختار و محتوای فایل، تجمیع هوشمند داده‌ها برای هر نماینده و جلوگیری از پردازش داده‌های تکراری از طریق Hashing محتوا. تولید خودکار فاکتورهای دوره‌ای برای تمام نمایندگان فعال در یک تراکنش اتمی (Atomic Transaction) برای تضمین یکپارچگی داده‌ها.
- Comprehensive Agent Management: ایجاد، مشاهده، ویرایش و غیرفعال‌سازی نمایندگان فروش. نگهداری پروفایل کامل برای هر نماینده شامل اطلاعات تماس، همکار فروش مرتبط و وضعیت مالی. محاسبه آنی و دقیق شاخص‌های کلیدی عملکرد (KPIs) مانند کل فروش، مجموع پرداخت‌ها و بدهی فعلی در سمت سرور برای نمایش در پنل مدیریت.
- Centralized Invoice & Payment Tracking: مدیریت کامل چرخه حیات فاکتورها (اتوماتیک و دستی) از صدور تا پرداخت نهایی. ثبت پرداخت‌ها و تخصیص هوشمند آن‌ها به بدهی‌های نماینده بر اساس استراتژی FIFO (اولین ورودی، اولین خروجی). قابلیت فیلتر، جستجو و مرتب‌سازی پیشرفته فاکتورها بر اساس وضعیت، تاریخ یا نماینده.
- Sales Partner & Commission Management: سیستم اختصاصی برای تعریف همکاران فروش و تعیین درصد کمیسیون آن‌ها. محاسبه خودکار مجموع فروش نمایندگان زیرمجموعه هر همکار و نمایش مبلغ کمیسیون متعلقه به صورت آنی در داشبورد.
- Agent Self-Service Public Portal: ارائه یک لینک منحصر به فرد و امن برای هر نماینده جهت مشاهده وضعیت مالی خود. نمایش شفاف تاریخچه فاکتورها، پرداخت‌های ثبت شده و بدهی باقیمانده در یک رابط کاربری ساده و خوانا. قابلیت شخصی‌سازی ظاهر و اطلاعات قابل نمایش در پورتال از طریق پنل تنظیمات ادمین.
- Integrated Telegram Bot Notifications: قابلیت تعریف توکن ربات تلگرام و قالب پیام سفارشی در پنل تنظیمات. استفاده از یک Genkit Flow برای ارسال خودکار و دسته‌ای نوتیفیکیشن‌های فاکتور جدید به نمایندگان از طریق تلگرام با استفاده از متغیرهای پویا (مانند نام، مبلغ و لینک پورتال).
- AI-Powered Financial Anomaly Detection: (قابلیت آینده) پیاده‌سازی یک Genkit Flow مجهز به مدل Gemini برای تحلیل الگوهای پرداخت و بدهی نمایندگان. شناسایی خودکار ناهنجاری‌ها، مانند افزایش ناگهانی بدهی یا تأخیر غیرمعمول در پرداخت‌ها، و ارسال هشدار هوشمند به ادمین سیستم جهت بررسی بیشتر.
- server-client application: full stack application

## Style Guidelines:

- پس‌زمینه اصلی (Primary Background): ذغالی تیره (#0d1117) – رنگ اصلی پس‌زمینه اپلیکیشن که فضایی متمرکز و حرفه‌ای ایجاد می‌کند.
- پس‌زمینه ثانویه / سطوح (Surface): خاکستری-سرمه‌ای تیره (#161b22) – برای کارت‌ها، مودال‌ها، هدر و سایدبار جهت ایجاد عمق بصری.
- رنگ اصلی تعاملات (Primary Action): آبی زنده (#2563EB یا bg-blue-600) – برای دکمه‌های اصلی، لینک‌ها و حالت‌های فعال (Active).
- رنگ ثانویه تعاملات (Secondary Action): بنفش عمیق (#9333EA یا bg-purple-600) – برای عملیات‌های مهم و برجسته مانند دکمه "پردازش فایل".
- متن اصلی: خاکستری روشن (#c9d1d9).
- عناوین: سفید (text-white).
- جداکننده‌ها و حاشیه‌ها: خاکستری تیره (border-gray-700).
- موفقیت/پرداخت شده: سبز (text-green-400).
- هشدار/تسویه جزیی: زرد (text-yellow-400).
- خطا/بدهی/پرداخت نشده: قرمز (text-red-400).
- سررسید گذشته: نارنجی (text-orange-400).
- اطلاعاتی: فیروزه‌ای (text-cyan-400).
- فونت اصلی: Vazirmatn – یک فونت سنس-سریف مدرن و بسیار خوانا برای زبان فارسی که در تمام بخش‌های رابط کاربری (عناوین، متن بدنه و دکمه‌ها) استفاده می‌شود.
- فونت مونو اسپیس (Monospace): فونت پیش‌فرض سیستمی (font-mono) برای نمایش شناسه‌ها، تاریخ‌ها، مبالغ و داده‌های جدولی که نیاز به هم‌ترازی عمودی دارند.
- مجموعه‌ای یکپارچه از آیکون‌های SVG با استایل Outline و طراحی مینیمال (مشابه Heroicons) که به صورت بصری، عملکرد دکمه‌ها و آیتم‌های منو را روشن می‌سازند.
- طراحی مبتنی بر گرید سیستم و مقیاس فاصله‌گذاری استاندارد Tailwind CSS برای تضمین هماهنگی در پدینگ، مارجین و فواصل بین عناصر.
- استفاده از گوشه‌های گرد (rounded-xl) و حاشیه‌های ظریف (border) برای ایجاد ظاهری نرم و مدرن در کامپوننت‌های اصلی.
- تجربه کاربری با انیمیشن‌های سریع و ظریف، عمدتاً بر روی تغییر رنگ (transition-colors) و پس‌زمینه در حالت‌های Hover و Focus، بهبود یافته است.
- وضعیت‌های بارگذاری (Loading) با انیمیشن‌های چرخشی (Spin) و پالس (Pulse) به وضوح به کاربر نمایش داده می‌شوند.
- زیبایی‌شناسی کلی اپلیکیشن یک داشبورد حرفه‌ای با تم تیره (Dark Mode) است که با الهام از ابزارهای توسعه مدرن مانند GitHub، بر خوانایی داده‌ها تمرکز داشته و خستگی چشم را کاهش می‌دهد.